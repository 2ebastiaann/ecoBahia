<div class="register-container">
    <!-- Decorative circles -->
    <div class="decorative-circle circle-1"></div>
    <div class="decorative-circle circle-2"></div>
    <div class="decorative-circle circle-3"></div>

    <!-- Main container -->
    <div class="register-card">
        <div class="card-content">
            
            <!-- Left panel - Decorative -->
            <div class="left-panel">
                <!-- Decorative elements -->
                <div class="panel-decoration decoration-1"></div>
                <div class="panel-decoration decoration-2"></div>
                <div class="panel-decoration decoration-3"></div>
                
                <div class="panel-header">
                    <!-- Logo -->
                    <div class="logo-container">
                        <div class="logo-icon">
                            <svg class="leaf-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/>
                                <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/>
                            </svg>
                        </div>
                        <div class="logo-text">
                            <h1 class="app-name">ecoBahia</h1>
                            <p class="app-subtitle">Gestión Inteligente</p>
                        </div>
                    </div>

                    <div class="panel-info">
                        <h2 class="panel-title">
                            Únete a<br>Nuestra<br>Comunidad
                        </h2>
                        <p class="panel-description">
                            Crea tu cuenta y comienza a hacer la diferencia en la gestión ambiental urbana
                        </p>
                        
                        <!-- Feature list -->
                        <div class="features-list">
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </div>
                                <span>Acceso completo al sistema</span>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </div>
                                <span>Monitoreo en tiempo real</span>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </div>
                                <span>Reportes y estadísticas</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Illustration -->
                <div class="panel-footer">
                    <div class="welcome-badge">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <div>
                            <p class="badge-title">Más de 500+</p>
                            <p class="badge-subtitle">Usuarios registrados</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right panel - Register Form -->
            <div class="right-panel">
                <!-- Back button -->
                <button 
                    (click)="handleBack()"
                    class="back-button"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m12 19-7-7 7-7"/>
                        <path d="M19 12H5"/>
                    </svg>
                    <span>Volver al inicio</span>
                </button>

                <div class="form-header">
                    <div class="header-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <line x1="19" x2="19" y1="8" y2="14"/>
                            <line x1="22" x2="16" y1="11" y2="11"/>
                        </svg>
                    </div>
                    <h3 class="form-title">Crear Cuenta</h3>
                    <p class="form-subtitle">Completa la información para registrarte</p>
                </div>

                <div class="form-body">
                    <!-- Email input -->
                    <div class="input-group">
                        <label class="input-label">
                            Correo Electrónico
                            <span class="required">*</span>
                        </label>
                        <div class="input-wrapper">
                            <div class="input-icon">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect width="20" height="16" x="2" y="4" rx="2"/>
                                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
                                </svg>
                            </div>
                            <input
                                type="email"
                                [(ngModel)]="email"
                                (keypress)="handleKeyPress($event)"
                                placeholder="tu@email.com"
                                class="input-field"
                            />
                        </div>
                        <p class="input-hint">Te enviaremos un correo de confirmación</p>
                    </div>

                    <!-- Password input -->
                    <div class="input-group">
                        <label class="input-label">
                            Contraseña
                            <span class="required">*</span>
                        </label>
                        <div class="input-wrapper">
                            <div class="input-icon">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                </svg>
                            </div>
                            <input
                                [type]="showPassword ? 'text' : 'password'"
                                [(ngModel)]="password"
                                (keypress)="handleKeyPress($event)"
                                (input)="checkPasswordStrength()"
                                placeholder="Mínimo 8 caracteres"
                                class="input-field"
                            />
                            <button 
                                type="button"
                                (click)="togglePasswordVisibility()"
                                class="toggle-password"
                            >
                                <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                                <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/>
                                    <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/>
                                    <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/>
                                    <line x1="2" x2="22" y1="2" y2="22"/>
                                </svg>
                            </button>
                        </div>
                        
                        <!-- Password strength indicator -->
                        <div class="password-strength" *ngIf="password.length > 0">
                            <div class="strength-bar">
                                <div 
                                    class="strength-fill"
                                    [ngClass]="passwordStrength"
                                    [style.width]="getPasswordStrengthWidth()"
                                ></div>
                            </div>
                            <p class="strength-text">
                                Seguridad: <span [ngClass]="passwordStrength">{{ getPasswordStrengthText() }}</span>
                            </p>
                        </div>
                    </div>

                    <!-- Confirm Password input -->
                    <div class="input-group">
                        <label class="input-label">
                            Confirmar Contraseña
                            <span class="required">*</span>
                        </label>
                        <div class="input-wrapper">
                            <div class="input-icon">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/>
                                </svg>
                            </div>
                            <input
                                type="password"
                                [(ngModel)]="confirmPassword"
                                (keypress)="handleKeyPress($event)"
                                placeholder="Repite tu contraseña"
                                class="input-field"
                                [class.error]="confirmPassword.length > 0 && password !== confirmPassword"
                            />
                            <div class="password-match-icon" *ngIf="confirmPassword.length > 0">
                                <svg *ngIf="password === confirmPassword" class="match-success" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                <svg *ngIf="password !== confirmPassword" class="match-error" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" x2="6" y1="6" y2="18"/>
                                    <line x1="6" x2="18" y1="6" y2="18"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Terms and conditions -->
                    <div class="terms-group">
                        <label class="checkbox-label">
                            <input 
                                type="checkbox" 
                                [(ngModel)]="acceptTerms"
                                class="checkbox-input"
                            />
                            <span class="checkbox-text">
                                Acepto los 
                                <button type="button" class="link-button">términos y condiciones</button> 
                                y la 
                                <button type="button" class="link-button">política de privacidad</button>
                            </span>
                        </label>
                    </div>

                    <!-- Register button -->
                    <button
                        (click)="handleSubmit()"
                        [disabled]="!isFormValid()"
                        class="register-button"
                    >
                        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <line x1="19" x2="19" y1="8" y2="14"/>
                            <line x1="22" x2="16" y1="11" y2="11"/>
                        </svg>
                        <span>CREAR MI CUENTA</span>
                    </button>

                    <!-- Divider -->
                    <div class="divider">
                        <span class="divider-line"></span>
                        <span class="divider-text">o regístrate con</span>
                        <span class="divider-line"></span>
                    </div>

                    <!-- Google register button -->
                    <button
                        (click)="handleGoogleRegister()"
                        class="google-button"
                    >
                        <svg class="google-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                            <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                            <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                            <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                            <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
                            <path fill="none" d="M0 0h48v48H0z"/>
                        </svg>
                        <span>Continuar con Google</span>
                    </button>
                </div>

                <!-- Footer -->
                <div class="form-footer">
                    <p class="login-text">
                        ¿Ya tienes cuenta? 
                        <button 
                            (click)="handleGoToLogin()"
                            class="login-link"
                        >
                            Inicia sesión aquí
                        </button>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

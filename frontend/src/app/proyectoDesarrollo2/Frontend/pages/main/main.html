<div class="dashboard-container">

  <!-- Sidebar -->
  <app-sidebar
    [isOpen]="sidebarOpen"
    [activeSection]="activeSection"
    [menuItems]="menuItems"
    (sectionChange)="onSectionChange($event)"
    (logoutClick)="onLogout()">
  </app-sidebar>

  <!-- Main Content -->
  <main class="main-content">

    <div class="content">

      <!-- Header -->
      <app-header
        [sidebarOpen]="sidebarOpen"
        [title]="'Bienvenido a EcoBahÃ­a'"
        (toggle)="toggleSidebar()"
        (logout)="onLogout()">
      </app-header>

      <!-- Dynamic content -->
      <router-outlet></router-outlet>

      <!-- SOLO mostrar este mapa si estamos en /main -->
      <div class="map-card" *ngIf="currentRoute === '/main'">
        <div class="map-header">
          <h3><i class="icon-map">ğŸ—ºï¸</i> Mapa completo de Buenaventura</h3>
        </div>

        <div class="map-wrapper">
          <div id="mainMapPreview"></div>
        </div>
      </div>

    </div>

  </main>

</div>

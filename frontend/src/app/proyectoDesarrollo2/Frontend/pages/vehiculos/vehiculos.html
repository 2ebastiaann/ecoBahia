<!-- vehiculos.component.html -->
<div class="vehicles-container">

    <!-- Bot√≥n volver al Main -->
    <button class="btn-secondary" (click)="goToMain()">‚¨ÖÔ∏è Volver al Inicio</button>
  <header class="header">
    <h1>Veh√≠culos</h1>
    <button class="btn-primary" (click)="openAddModal()">‚ûï Agregar Veh√≠culo</button>
  </header>

  <main>
    <!-- Tabla de veh√≠culos -->
    <table class="vehicles-table">
      <thead>
        <tr>
          <th>Placa</th>
          <th>Marca</th>
          <th>Modelo</th>
          <th>Activo</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let vehiculo of vehicles">
          <td>{{ vehiculo.placa }}</td>
          <td>{{ vehiculo.marca }}</td>
          <td>{{ vehiculo.modelo }}</td>
          <td>{{ vehiculo.activo ? 'S√≠' : 'No' }}</td>
          <td>
            <button (click)="editVehicle(vehiculo)">‚úèÔ∏è Editar</button>
            <button (click)="deleteVehicle(vehiculo.id!)">üóëÔ∏è Eliminar</button>
          </td>
        </tr>
        <tr *ngIf="vehicles.length === 0">
          <td colspan="5">No hay veh√≠culos registrados</td>
        </tr>
      </tbody>
    </table>
  </main>

  <!-- Modal agregar/editar veh√≠culo -->
  <div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <h2>{{ isEditMode ? 'Editar Veh√≠culo' : 'Agregar Veh√≠culo' }}</h2>
      <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
          <label>Placa *</label>
          <input type="text" formControlName="placa" placeholder="ABC-123">
        </div>

        <div class="form-group">
          <label>Marca *</label>
          <input type="text" formControlName="marca" placeholder="Ford">
        </div>

        <div class="form-group">
          <label>Modelo *</label>
          <input type="text" formControlName="modelo" placeholder="2023">
        </div>

        <div class="form-group">
          <label>Activo *</label>
          <select formControlName="activo">
            <option [value]="true">S√≠</option>
            <option [value]="false">No</option>
          </select>
        </div>

        <div class="modal-actions">
          <button type="button" (click)="closeModal()">Cancelar</button>
          <button type="submit" [disabled]="!vehicleForm.valid">
            {{ isEditMode ? 'Actualizar' : 'Guardar' }}
          </button>
        </div>

      </form>
    </div>
  </div>

</div>
